function exportData(){const t={tracking:getStoredTrackingData(),filters:getCurrentFilters()},e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=`unitTracking_${getUserName()}_${(new Date).toISOString().replace(/[:T]/g,"-").split(".")[0]}.json`,n.click()}function importData(t){const e=new FileReader;e.onload=function(t){try{const e=JSON.parse(t.target.result);if(!e.tracking)throw new Error("Missing 'tracking'");localStorage.setItem("unitTracking",JSON.stringify(e.tracking)),e.filters&&setFilters(e.filters),drawTable()}catch(t){console.error(t),alert("Invalid file format.")}},e.readAsText(t)}